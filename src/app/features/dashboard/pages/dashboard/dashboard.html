<div class="dashboard-container">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-8 col-xl-6">
        <!-- Main Converter Card -->
        <div class="converter-card">
          <div class="card-header">
            <div class="d-flex align-items-center">
              <img src="/asset/Logo.png" alt="Currency Converter Logo" class="dashboard-logo me-3">
              <h2 class="mb-0">Currency Converter</h2>
            </div>
          </div>
          
          <div class="card-body">
            <form (ngSubmit)="convert()" class="converter-form">
              <!-- Currency Selection Row -->
              <div class="row g-3 mb-4">
                <div class="col-12 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>From Currency</mat-label>
                    <mat-select [(ngModel)]="from" name="from" required>
                      <mat-option *ngFor="let c of currencies" [value]="c.code">
                        <div class="currency-option">
                          <span class="currency-code">{{c.code}} </span>
                          <span class="currency-name">- {{c.name}}</span>
                        </div>
                      </mat-option>
                    </mat-select>
                    <mat-icon matSuffix>flag</mat-icon>
                  </mat-form-field>
                </div>
                
                <div class="col-12 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>To Currency</mat-label>
                    <mat-select [(ngModel)]="to" name="to" required>
                      <mat-option *ngFor="let c of currencies" [value]="c.code">
                        <div class="currency-option">
                          <span class="currency-code">{{c.code}} </span>
                          <span class="currency-name">- {{c.name}}</span>
                        </div>
                      </mat-option>
                    </mat-select>
                    <mat-icon matSuffix>flag</mat-icon>
                  </mat-form-field>
                </div>
              </div>
              
              <!-- Amount Input -->
              <div class="row mb-4">
                <div class="col-12">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Amount</mat-label>
                    <input matInput type="number" [(ngModel)]="amount" name="amount" 
                           min="0.000001" step="0.01" required>
                    <mat-icon matSuffix>attach_money</mat-icon>
                  </mat-form-field>
                </div>
              </div>
              
              <!-- Convert Button -->
              <div class="row mb-4">
                <div class="col-12">
                  <button mat-flat-button color="primary" type="submit" 
                          class="convert-btn w-100" [disabled]="!from || !to || !amount">
                    <mat-icon class="me-2">swap_horiz</mat-icon>
                    Convert Currency
                  </button>
                </div>
              </div>
            </form>
            
            <!-- Result Display -->
            <div class="result-section" *ngIf="result !== null">
              <div class="result-card">
                <div class="result-header">
                  <mat-icon class="me-2">check_circle</mat-icon>
                  <span>Conversion Result</span>
                </div>
                <div class="result-content">
                  <div class="conversion-amount">
                    <span class="amount">{{amount | number:'1.2-6'}}</span>
                    <span class="currency">{{from}}</span>
                  </div>
                  <div class="conversion-arrow">
                    <mat-icon>arrow_forward</mat-icon>
                  </div>
                  <div class="conversion-result">
                    <span class="amount">{{result | number:'1.2-6'}}</span>
                    <span class="currency">{{to}}</span>
                  </div>
                </div>
                <div class="result-rate">
                  <small class="text-muted">
                    1 {{from}} = {{(result / amount) | number:'1.4-6'}} {{to}}
                  </small>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Recent History Card -->
        <div class="history-card" *ngIf="history.items().length > 0">
          <div class="card-header">
            <div class="d-flex align-items-center">
              <mat-icon class="me-3">history</mat-icon>
              <h3 class="mb-0">Recent Conversions</h3>
            </div>
          </div>
          
          <div class="card-body">
            <div class="history-list">
              <div class="history-item" *ngFor="let h of history.items()">
                <div class="history-content">
                  <div class="conversion-info">
                    <div class="conversion-amounts">
                      <span class="amount">{{h.amount | number:'1.2-6'}}</span>
                      <span class="currency">{{h.from}}</span>
                      <mat-icon class="mx-2">arrow_forward</mat-icon>
                      <span class="amount">{{h.result | number:'1.2-6'}}</span>
                      <span class="currency">{{h.to}}</span>
                    </div>
                    <div class="conversion-time">
                      <mat-icon class="me-1">schedule</mat-icon>
                      <span>{{h.createdAt | date:'MMM dd, yyyy HH:mm'}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="history-footer">
              <a routerLink="/history" class="view-all-link">
                <span>View All History</span>
                <mat-icon>arrow_forward</mat-icon>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  